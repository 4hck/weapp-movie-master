<import src='../../../templates/cinemaSection.wxml' />
<import src='../../../templates/loadingMore.wxml' />
<import src='../../../templates/nothing.wxml' />

<view class='container' style='position:{{isShow?"fixed":""}}'>
  <view class='top'>
    <view>
      <scroll-view class='timeline scroll-view_H' scroll-x>
        <view class='day {{item.day===day?"active":""}}' wx:for='{{days}}' wx:key='{{item}}' bindtap='selectDay' data-day='{{item.day}}'>{{item.title}}</view>
      </scroll-view>
    </view>
    <view>
      <filter-nav city-cinema-info='{{cityCinemaInfo}}' bindchange='changeCondition' bindtoggleShow='toggleShow' hidden='{{!isShow}}'></filter-nav>
    </view>
  </view>
  <view class='main-content'>
    <view class='cinema-list'>
      <template is="cinemaSection" wx:for='{{cinemas}}' wx:for-item='cinema' wx:key='{{cinema.id}}' data='{{cinema}}' />
    </view>
    <view wx:if='{{!loadComplete && cinemas.length}}'>
      <template is="loadingMore" />
    </view>
    <view hidden='{{!nothing}}'>
      <template is='nothing' data='{{message:"暂无符合条件的影院"}}' />
    </view>
     <view hidden='{{!noSchedule}}'>
      <template is='nothing' data='{{message:"当天暂无场次"}}' />
    </view>
  </view>
</view>